<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>
        Giỏ hàng Bigshop
    </title>
    <!-- ================= Page description ================== -->

    <!-- ================= Meta ================== -->
    <meta name="keywords" content="Giỏ hàng, Bigshop, bigshop-1.mysapo.net"/>
    <link rel="canonical" href="https://bigshop-1.mysapo.net/cart"/>
    <meta name='revisit-after' content='1 days'/>
    <meta name="robots" content="noodp,index,follow"/>
    <!-- ================= Favicon ================== -->

    <link rel="icon" href="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/favicon.png?1676016752114"
          type="image/x-icon"/>

    <!-- Facebook Open Graph meta tags -->


    <meta property="og:type" content="website">
    <meta property="og:title" content="Giỏ hàng">
    <meta property="og:image"
          content="http://bizweb.dktcdn.net/100/286/763/themes/802001/assets/logo.png?1676016752114">
    <meta property="og:image:secure_url"
          content="https://bizweb.dktcdn.net/100/286/763/themes/802001/assets/logo.png?1676016752114">

    <meta property="og:description" content="">
    <meta property="og:url" content="https://bigshop-1.mysapo.net/cart">
    <meta property="og:site_name" content="Bigshop">


    <meta name="twitter:card" content="summary">
    <link rel="stylesheet" href="/home/css/cssAlertSuccess.css">


    <!-- Header JS -->
    <script src="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/jquery-2.2.3.min.js?1676016752114"
            type="text/javascript"></script>

    <script>

        var template = 'cart';

    </script>

    <link rel="preload" as='style' type="text/css"
          href="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/plugin.scss.css?1676016752114">
    <link href="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/plugin.scss.css?1676016752114" rel="stylesheet"
          type="text/css" media="all"/>
    <!-- Build Main CSS -->
    <link rel="preload" as='style' type="text/css"
          href="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/base.scss.css?1676016752114">
    <link rel="preload" as='style' type="text/css"
          href="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/style.scss.css?1676016752114">
    <link rel="preload" as='style' type="text/css"
          href="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/module.scss.css?1676016752114">
    <link rel="preload" as='style' type="text/css"
          href="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/responsive.scss.css?1676016752114">
    <link href="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/base.scss.css?1676016752114" rel="stylesheet"
          type="text/css" media="all"/>
    <link href="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/style.scss.css?1676016752114" rel="stylesheet"
          type="text/css" media="all"/>
    <link href="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/module.scss.css?1676016752114" rel="stylesheet"
          type="text/css" media="all"/>
    <link href="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/responsive.scss.css?1676016752114" rel="stylesheet"
          type="text/css" media="all"/>

    <!-- Theme CSS -->
    <link rel="preload" as='style' type="text/css"
          href="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/main.scss.css?1676016752114">
    <link rel="preload" as='style' type="text/css"
          href="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/green.scss.css?1676016752114">
    <link rel="preload" as='style' type="text/css"
          href="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/owl.carousel.scss.css?1676016752114">
    <link rel="preload" as='style' type="text/css"
          href="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/bootstrap-select.min.scss.css?1676016752114">
    <link rel="preload" as='style' type="text/css"
          href="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/theme-update.scss.css?1676016752114">
    <link href="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/main.scss.css?1676016752114" rel="stylesheet"
          type="text/css" media="all"/>
    <link href="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/green.scss.css?1676016752114" rel="stylesheet"
          type="text/css" media="all"/>
    <link href="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/owl.carousel.scss.css?1676016752114"
          rel="stylesheet" type="text/css" media="all"/>
    <link href="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/bootstrap-select.min.scss.css?1676016752114"
          rel="stylesheet" type="text/css" media="all"/>
    <link href="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/theme-update.scss.css?1676016752114"
          rel="stylesheet" type="text/css" media="all"/>

    <!-- Bizweb javascript customer -->

    <script>
        (function () {
            function asyncLoad() {
                var urls = [];
                for (var i = 0; i < urls.length; i++) {
                    var s = document.createElement('script');
                    s.type = 'text/javascript';
                    s.async = true;
                    s.src = urls[i];
                    var x = document.getElementsByTagName('script')[0];
                    x.parentNode.insertBefore(s, x);
                }
            };
            window.attachEvent ? window.attachEvent('onload', asyncLoad) : window.addEventListener('load', asyncLoad, false);
        })();
    </script>


    <script src="/home/dist/js/stats.minbadf.js?v=96f2ff2"></script>
    <style>
        .btn-plus-mobile{
            -webkit-tap-highlight-color: transparent;
            box-sizing: border-box;
            font: inherit;
            text-transform: none;
            font-family: Arial,"Helvetica Neue",Helvetica,sans-serif;
            font-weight: 400;
            -webkit-font-smoothing: antialiased;
            -webkit-text-size-adjust: 100%;
            overflow: visible;
            font-size: 1em;
            -webkit-appearance: none;
            cursor: pointer;
            position: absolute;
            right: 0;
            top: 0;
            margin: 0;
            padding: 0;
            max-width: 23px !important;
            width: 23px;
            height: 25px;
            display: inline-block;
            line-height: 1;
            border-style: hidden;
            background: none !important;
            color: #000;
            border: solid thin #ddd;
        }

        .btn-minus-mobile{
            -webkit-tap-highlight-color: transparent;
            box-sizing: border-box;
            font: inherit;
            text-transform: none;
            font-family: Arial,"Helvetica Neue",Helvetica,sans-serif;
            font-weight: 400;
            -webkit-font-smoothing: antialiased;
            -webkit-text-size-adjust: 100%;
            overflow: visible;
            font-size: 1em;
            -webkit-appearance: none;
            cursor: pointer;
            position: absolute;
            left: 0;
            top: 0;
            z-index: 100;
            margin: 0;
            padding: 0;
            line-height: 1;
            max-width: 23px !important;
            width: 23px;
            height: 25px;
            border-style: hidden;
            background: none !important;
            color: #000;
            border: solid thin #ddd;
        }
        .money {
            -webkit-tap-highlight-color: transparent;
            -webkit-font-smoothing: antialiased;
            -webkit-text-size-adjust: 100%;
            font-size: 14px;
            font-family: 'Arial', sans-serif;
            text-align: center !important;
            box-sizing: border-box;
            line-height: 6;
            color: #252525;
            font-weight: 400;
        }

        .totalAmountElement {
            -webkit-tap-highlight-color: transparent;
            -webkit-font-smoothing: antialiased;
            -webkit-text-size-adjust: 100%;
            font-family: 'Arial', sans-serif;
            border-collapse: collapse;
            border-spacing: 0;
            text-align: right !important;
            line-height: 1.42857143;
            box-sizing: border-box;
            color: #ec0808;
            font-size: 20px;
            font-weight: 500;
        }

        .btn-plus {
            -webkit-tap-highlight-color: transparent;
            box-sizing: border-box;
            font: inherit;
            text-transform: none;
            font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;
            -webkit-font-smoothing: antialiased;
            -webkit-text-size-adjust: 100%;
            overflow: visible;
            font-size: 1em;
            -webkit-appearance: none;
            cursor: pointer;
            height: 24px;
            width: 24px;
            top: 18px;
            outline: none;
            background: #fff;
            font-weight: 700;
            vertical-align: baseline;
            text-align: center;
            padding: 0;
            border: none;
            color: #363636;
            display: inline-block;
            position: absolute;
            margin: 0;
            left: auto;
            right: 20px;
            line-height: 25px;
        }

        .btn-minus {
            -webkit-tap-highlight-color: transparent;
            box-sizing: border-box;
            font: inherit;
            text-transform: none;
            font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;
            -webkit-font-smoothing: antialiased;
            -webkit-text-size-adjust: 100%;
            overflow: visible;
            font-size: 1em;
            -webkit-appearance: none;
            cursor: pointer;
            height: 24px;
            width: 24px;
            left: 20px;
            top: 18px;
            outline: none;
            background: #fff;
            font-weight: 700;
            vertical-align: baseline;
            text-align: center;
            padding: 0;
            border: none;
            color: #363636;
            display: inline-block;
            position: absolute;
            margin: 0;
            line-height: 24px;
        }
    </style>


</head>

<body>
<div class="alert alert-warning autoHide" th:if="${error}">
    <strong>Warning!</strong> <span th:text="${error}"></span>
</div>
<!-- Main content -->
<!-- ============================================== HEADER ============================================== -->
<header th:replace="home/user/fragments/header::headerUser(${keyword},${sumPriceHeader},${countProductHeader},${categories})"></header>
<!-- ============================================== HEADER : END ============================================== -->
<section class="bread-crumb">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <ul class="breadcrumb">
                    <li class="home">
                        <a href="/user/home"><span>Trang chủ</span></a>
                        <span> / </span>
                    </li>

                    <li><strong>Giỏ hàng</strong></li>

                </ul>

            </div>
        </div>
    </div>
</section>

<div class="container">
    <div class="box-heading box-heading-line cart-heading relative" style="    margin-bottom: -40px;">
        <h1 class="title-head page_title">Giỏ hàng của bạn</h1>
    </div>
</div>
<section class="main-cart-page main-container col1-layout">
    <div class="main container hidden-xs">
        <div class="col-main cart_desktop_page cart-page ">
            <div class="cart page_cart hidden-xs">
                <div class="bg-scroll">
                    <div class="cart-thead">
                        <div style="width: 19%;text-align: left;">Sản phẩm</div>
                        <div style="width: 28%"><span class="nobr"></span></div>
                        <div style="width: 17%" class="a-center"><span class="nobr">Đơn giá</span></div>
                        <div style="width: 18%" class="a-center">Số lượng</div>
                        <div style="width: 5%" class="a-center">Xóa</div>
                        <div style="width: 13%;text-align: right!important;" class="a-center">Thành tiền</div>
                    </div>
                    <div class="cart-tbody">
                        <div th:each="cart:${carts}">
                            <div class="item-cart" th:name="${cart.id}">
                                <div style="width: 19%" class="image"><a class="product-image"
                                                                         th:title="*{cart.nameProduct}"
                                                                         th:href="@{/user/shop/productDetail/{id}(id=${cart.productId})}"><img
                                        width="120"
                                        height="auto"
                                        th:alt="*{cart.nameProduct}"
                                        th:src="@{'https://firebasestorage.googleapis.com/v0/b/project-fcfdd.appspot.com/o/'+${cart.imageProduct}+'?alt=media'}"></a>
                                </div>
                                <div style="width: 28%;align-items: flex-start;" class="a-center">
                                    <h2 class="product-name"><a
                                            th:href="@{/user/shop/productDetail/{id}(id=${cart.productId})}"
                                            th:text="*{cart.nameProduct}"></a></h2>
                                    <div style="height: 30px;position: relative;width: 78px;padding: 10px 0;"></div>
                                </div>
                                <div style="width: 17%" class="a-center"><span class="item-price"> <span
                                        class="money product-price" th:text="*{cart.unitPrice}"></span></span>
                                </div>
                                <div style="width: 18%" class="a-center">
                                    <div class="input_qty_pr relative">
                                        <input class="variantID" type="hidden" name="variantId">
                                        <button th:data-field="${cart.id}" class="reduced_pop btn-minus" type="button"
                                                data-quantity="minus" onclick="decreaseQuantity(this)">–
                                        </button>
                                        <input type="text" maxlength="12" min="1" th:id="'input-desktop-' + ${cart.id}"
                                               class="input-text number-sidebar "
                                               th:name="${cart.id}" th:value="${cart.cartQuantity}"
                                               onchange="updateCartItemQuantity(this.getAttribute('name'), this.value);">
                                        <button th:data-field="${cart.id}" class="increase_pop btn-plus"
                                                data-quantity="plus" type="button" onclick="increaseQuantity(this)">+
                                        </button>
                                    </div>
                                </div>
                                <div style="width: 5%" class="a-center"><a class="button remove-item remove-item-cart"
                                                                           th:name="*{cart.id}"
                                                                           title="Xóa"
                                                                           onclick="deleteData(this.getAttribute('name'))">
                                    <span><i class="fa fa-remove"></i></span></a></div>
                                <div style="width: 13%;align-items: flex-end;padding-right: 0;" class="a-center">
                                    <span class="cart-price">
                                        <span class="money product_total " th:id="'product-total-desktop-'+${cart.id}"
                                              th:text="${cart.unitPrice*cart.cartQuantity}"></span>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cart-collaterals cart_submit row">
                    <div class="totals col-sm-12 col-md-12 col-xs-12">
                        <div class="totals">
                            <div class="inner">
                                <table class="table shopping-cart-table-total margin-bottom-0"
                                       id="shopping-cart-totals-table">
                                    <colgroup>
                                        <col>
                                        <col>
                                    </colgroup>
                                    <tfoot>
                                    <tr>
                                        <td colspan="20" class="a-right"></td>
                                        <td class="a-right"><span>Tổng tiền:</span> <strong><span
                                                class="totals_price totalAmountElement" id="sumPrice"
                                                th:text="${sumPrice}"></span></strong></td>
                                    </tr>
                                    </tfoot>
                                </table>
                                <ul class="checkout">
                                    <li class="clearfix">
                                        <button class="btn btn-primary button btn-proceed-checkout f-right"
                                                title="Tiến hành đặt hàng" type="button"
                                                onclick="window.location.href='/user/cart/checkOut'">
                                            <span style="text-transform: initial;">Tiến hành đặt hàng</span>
                                        </button>

                                        <button class="btn btn-gray margin-right-15 f-right"
                                                title="Tiếp tục mua hàng"
                                                onclick="window.location.href='/user/shop'">
                                            <span style="text-transform: initial;">Tiếp tục mua hàng</span>
                                        </button>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="cart-mobile hidden-md hidden-lg hidden-sm">
            <div class="header-cart" style="background:#fff;">
                <div class="title-cart">
                    <h3>Giỏ hàng của bạn</h3>
                </div>
            </div>
            <div class="header-cart-content" style="background:#fff;">
                <div class="cart_page_mobile content-product-list">
                    <div th:each="cart:${carts}">
                        <div class="item-product item" th:name="${cart.id}">
                            <div class="item-product-cart-mobile">
                                <a th:title="*{cart.nameProduct}"
                                   th:href="@{/user/shop/productDetail/{id}(id=${cart.productId})}" class="product-images1">
                                <img max-width="80"
                                    th:alt="*{cart.nameProduct}"
                                     th:src="@{'https://firebasestorage.googleapis.com/v0/b/project-fcfdd.appspot.com/o/'+${cart.imageProduct}+'?alt=media'}">
                                </a>
                            </div>
                            <div class="title-product-cart-mobile">
                                <h3>
                                    <a th:href="@{/user/shop/productDetail/{id}(id=${cart.productId})}"
                                                                              th:text="*{cart.nameProduct}">

                                    </a>
                             </h3>
                                <p>Giá: <span class="product-price-mobile" th:text="*{cart.unitPrice}"></span></p></div>
                            <div class="select-item-qty-mobile">
                                <div class="txt_center">
                                    <input class="variantID" type="hidden" name="variantId">
                                    <button th:data-field="${cart.id}" class="btn-minus-mobile " type="button"
                                            data-quantity="minus" onclick="decreaseQuantityMobile(this)">–
                                    </button>
                                    <input type="text" maxlength="12" min="1" th:id="'input-mobile-'+${cart.id}"
                                           class="input-text number-sidebar"
                                           th:name="${cart.id}" th:value="${cart.cartQuantity}"
                                           onchange="updateCartItemQuantity(this.getAttribute('name'), this.value);">
                                    <button th:data-field="${cart.id}" class="btn-plus-mobile "
                                            data-quantity="plus" type="button" onclick="increaseQuantityMobile(this)">+
                                    </button>
                                </div>
                                <div style="width: 13%;align-items: flex-end;padding-right: 0;" class="a-center" hidden="hidden">
                                    <span class="cart-price">
                                        <span class="money product_total_mobile" th:id="'product-total-mobile-'+${cart.id}" th:text="${cart.unitPrice*cart.cartQuantity}"></span>
                                    </span>
                                </div>
                                <a class="button remove-item remove-item-cart"
                                   th:name="*{cart.id}"
                                   title="Xóa"
                                   style="cursor: pointer"
                                   onclick="deleteData(this.getAttribute('name'))">Xoá</a></div>
                        </div>
                    </div>
                </div>
                <div class="header-cart-price" style="">
                    <div class="title-cart "><h3 class="text-xs-left">Tổng tiền</h3><a
                            class="text-xs-right totalAmountElementsMobile" id="sumPriceMobile" th:text="${sumPriceMobile}"></a>
                    </div>
                    <div class="checkout">
                        <button class="btn-proceed-checkout-mobile" title="Tiến hành thanh toán" type="button"
                                onclick="window.location.href='/user/cart/checkOut'"><span>Tiến hành thanh toán</span></button>
                        <button class="btn-proceed-checkout-mobile margin-top-10" title="Tiếp tục mua hàng"
                                type="button" onclick="window.location.href='/user/shop'">
                            <span>Tiếp tục mua hàng</span></button>
                    </div>
                </div>
            </div>

    </div>
</section>


<div class="container">
    <div id="brands-carousel" class="logo-slider wow fadeInUp">
        <h3 class="section-title">Thương hiệu</h3>
        <div class="logo-slider-inner">
            <div id="brand-slider" class="owl-carousel brand-slider custom-carousel owl-theme" data-xl-items='6'
                 data-lg-items='5' data-md-items='4' data-sm-items='2' data-xs-items='1' data-margin='0'
                 data-nav='true'>


                <div class="item">
                    <a href="#" class="image">
                        <img class="lazyload"
                             src="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/rolling.svg?1676016752114"
                             data-src="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/brand1.jpg?1676016752114"
                             alt="Nokia">
                    </a>
                </div>


                <div class="item">
                    <a href="#" class="image">
                        <img class="lazyload"
                             src="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/rolling.svg?1676016752114"
                             data-src="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/brand2.jpg?1676016752114"
                             alt="Canon">
                    </a>
                </div>


                <div class="item">
                    <a href="#" class="image">
                        <img class="lazyload"
                             src="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/rolling.svg?1676016752114"
                             data-src="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/brand3.jpg?1676016752114"
                             alt="Samsung">
                    </a>
                </div>


                <div class="item">
                    <a href="#" class="image">
                        <img class="lazyload"
                             src="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/rolling.svg?1676016752114"
                             data-src="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/brand4.jpg?1676016752114"
                             alt="Apple">
                    </a>
                </div>


                <div class="item">
                    <a href="#" class="image">
                        <img class="lazyload"
                             src="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/rolling.svg?1676016752114"
                             data-src="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/brand5.jpg?1676016752114"
                             alt="HTC">
                    </a>
                </div>


                <div class="item">
                    <a href="#" class="image">
                        <img class="lazyload"
                             src="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/rolling.svg?1676016752114"
                             data-src="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/brand6.jpg?1676016752114"
                             alt="LG">
                    </a>
                </div>


                <div class="item">
                    <a href="#" class="image">
                        <img class="lazyload"
                             src="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/rolling.svg?1676016752114"
                             data-src="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/brand7.jpg?1676016752114"
                             alt="Nokia 2">
                    </a>
                </div>


            </div>
            <!-- /.owl-carousel #logo-slider -->
        </div>
        <!-- /.logo-slider-inner -->
    </div>
</div>


<!-- ============================================================= FOOTER ============================================================= -->
<footer th:replace="home/user/fragments/footer::footerUser"></footer>
<!-- ============================================================= FOOTER : END============================================================= -->
<div class="ajax-load">
	<span class="loading-icon">
		<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
             width="24px" height="30px" viewBox="0 0 24 30" style="enable-background:new 0 0 50 50;"
             xml:space="preserve">
			<rect x="0" y="10" width="4" height="10" fill="#333" opacity="0.2">
				<animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0s" dur="0.6s"
                         repeatCount="indefinite"/>
				<animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0s" dur="0.6s"
                         repeatCount="indefinite"/>
				<animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0s" dur="0.6s"
                         repeatCount="indefinite"/>
			</rect>
			<rect x="8" y="10" width="4" height="10" fill="#333" opacity="0.2">
				<animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0.15s" dur="0.6s"
                         repeatCount="indefinite"/>
				<animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0.15s" dur="0.6s"
                         repeatCount="indefinite"/>
				<animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0.15s" dur="0.6s"
                         repeatCount="indefinite"/>
			</rect>
			<rect x="16" y="10" width="4" height="10" fill="#333" opacity="0.2">
				<animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0.3s" dur="0.6s"
                         repeatCount="indefinite"/>
				<animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0.3s" dur="0.6s"
                         repeatCount="indefinite"/>
				<animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0.3s" dur="0.6s"
                         repeatCount="indefinite"/>
			</rect>
		</svg>
	</span>
</div>


<div class="error-popup awe-popup">
    <div class="overlay no-background"></div>
    <div class="popup-inner content">
        <div class="error-message"></div>
    </div>
</div>
<div id="myModal" class="modal fade" role="dialog">
</div>

<a href="tel:19006750" class="suntory-alo-phone center-left suntory-alo-green " id="suntory-alo-phoneIcon">

    <div class="suntory-alo-ph-img-circle"><i class="fa fa-phone"></i></div>
</a>


<div id="popupCartModal" class="modal fade" role="dialog">
</div>


<!-- Bizweb javascript -->
<script src="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/option-selectors.js?1676016752114"
        type="text/javascript"></script>
<script src="/home/assets/themes_support/api.jquery.js" type="text/javascript"></script>
<!-- Plugin JS -->
<script src="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/addtocart.js?1676016752114"
        type="text/javascript"></script>


<script src="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/api.jquery.custom.js?1676016752114"
        type="text/javascript"></script>


<script src="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/swiper.min.js?1676016752114"
        type="text/javascript"></script>
<script src="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/main.js?1676016752114"
        type="text/javascript"></script>


<script src="//bizweb.dktcdn.net/100/286/763/themes/802001/assets/scripts.js?1676016752114"
        type="text/javascript"></script>

<script>
    $('.xemthem').click(function (e) {
        e.preventDefault();
        $('nav.megamenu-horizontal ul.nav>li').css('display', 'block');
        $(this).hide();
        $('.thugon').show();
    })
    $('.thugon').click(function (e) {
        e.preventDefault();
        $('nav.megamenu-horizontal ul.nav>li').css('display', 'none');
        $(this).hide();
        $('.xemthem').show();
    })

    window.onload = function (e) {
        var lil = $('.side-menu nav.megamenu-horizontal .menu-item').length;
        var vw = $(window).width();

        if (lil < 9 && vw < 1500 && vw > 1200) {
            $('li.hidden-lgg').remove();
        }
    }
</script>

<script type='text/javascript'>

    //<![CDATA[
    function loadCSS(e, t, n) {
        "use strict";
        var i = window.document.createElement("link");
        var o = t || window.document.getElementsByTagName("footer")[0];
        i.rel = "stylesheet";
        i.href = e;
        i.media = "only x";
        o.parentNode.insertBefore(i, o);
        setTimeout(function () {
            i.media = n || "all"
        })
    }

    loadCSS("/home/font-awesome/4.5.0/css/font-awesome.min.css");
    //]]>
</script>
<script th:inline="javascript">

    document.addEventListener("DOMContentLoaded", function () {
        let priceElements = document.querySelectorAll(".product-price");
        let priceElementsMobile = document.querySelectorAll(".product-price-mobile");
        let amountElements = document.querySelectorAll(".product_total");
        let amountElementsMobile = document.querySelectorAll(".product_total_mobile");
        let totalElement = document.querySelectorAll(".totalAmountElement");
        let totalElementsMobile = document.querySelectorAll('.totalAmountElementsMobile');
        priceElements.forEach(function (element) {
            let price = parseFloat(element.textContent.trim());
            element.textContent = price.toLocaleString('vi-VN', {minimumFractionDigits: 0}) + '₫';
        });
        priceElementsMobile.forEach(function (element) {
            let price = parseFloat(element.textContent.trim());
            element.textContent = price.toLocaleString('vi-VN', {minimumFractionDigits: 0}) + '₫';
        });
        amountElements.forEach(function (element) {
            let price = parseFloat(element.textContent.trim());
            element.textContent = price.toLocaleString('vi-VN', {minimumFractionDigits: 0}) + '₫';
        });
        amountElementsMobile.forEach(function (element) {
            let price = parseFloat(element.textContent.trim());
            element.textContent = price.toLocaleString('vi-VN', {minimumFractionDigits: 0}) + '₫';
        });
        totalElement.forEach(function (element) {
            let price = parseFloat(element.textContent.trim());
            element.textContent = price.toLocaleString('vi-VN', {minimumFractionDigits: 0}) + '₫';
        });
        totalElementsMobile.forEach(function (element) {
            let price = parseFloat(element.textContent.trim());
            element.textContent = price.toLocaleString('vi-VN', {minimumFractionDigits: 0}) + '₫';
        });

    });

    function decreaseQuantity(button) {
        let input = button.nextElementSibling;
        if (parseInt(input.value) > parseInt(input.getAttribute('min')) && parseInt(input.value) > 0) {
            input.value = parseFloat(input.value) - 1;
            document.getElementById('input-mobile-' + input.getAttribute('name')).value = input.value;
            // updateBothInputs(input.getAttribute('name'), input.value);
            updateCartItemQuantity(input.getAttribute('name'), input.value, input);
            let inputValue = input.value;
            let price = input.parentElement.parentElement.parentElement.querySelector('.product-price').textContent;
            let amount = input.parentElement.parentElement.parentElement.querySelector('.product_total');
            let total = Number.parseFloat(price.replace('₫', '').replace(/\./g, '').replace(',', '.')) * inputValue;
            amount.innerText = total.toLocaleString('vi-VN', {minimumFractionDigits: 0}) + '₫';
            document.getElementById('product-total-mobile-' + input.getAttribute('name')).innerText = amount.innerText;
            calculateTotalAmount();
        }
    }

    function increaseQuantity(button) {
        let input = button.previousElementSibling;
        input.value = parseInt(input.value) + 1;
        document.getElementById('input-mobile-' + input.getAttribute('name')).value = input.value;
        // updateBothInputs(input.getAttribute('name'), input.value);
        updateCartItemQuantity(input.getAttribute('name'), input.value, input);
        let inputValue = input.value;
        let price = input.parentElement.parentElement.parentElement.querySelector('.product-price').textContent;
        let amount = input.parentElement.parentElement.parentElement.querySelector('.product_total');
        let total = Number.parseFloat(price.replace('₫', '').replace(/\./g, '').replace(',', '.')) * inputValue;
        amount.innerText = total.toLocaleString('vi-VN', {minimumFractionDigits: 0}) + '₫';
        document.getElementById('product-total-mobile-' + input.getAttribute('name')).innerText = amount.innerText;
        calculateTotalAmount();
    }

    function decreaseQuantityMobile(button) {
        let input = button.nextElementSibling;
        if (parseInt(input.value) > parseInt(input.getAttribute('min')) && parseInt(input.value) > 0) {
            input.value = parseFloat(input.value) - 1;
            document.getElementById('input-desktop-' + input.getAttribute('name')).value = input.value;
            // updateBothInputs(input.getAttribute('name'), input.value);
            updateCartItemQuantity(input.getAttribute('name'), input.value, input);
            let inputValue = input.value;
            let price = input.parentElement.parentElement.parentElement.querySelector('.product-price-mobile').textContent;
            let amount = input.parentElement.parentElement.parentElement.querySelector('.product_total_mobile');
            let total = Number.parseFloat(price.replace('₫', '').replace(/\./g, '').replace(',', '.')) * inputValue;
            amount.innerText = total.toLocaleString('vi-VN', {minimumFractionDigits: 0}) + '₫';
            document.getElementById('product-total-desktop-' + input.getAttribute('name')).innerText = amount.innerText;
            calculateTotalAmountMobile();
        }
    }

    function increaseQuantityMobile(button) {
        let input = button.previousElementSibling;
        input.value = parseInt(input.value) + 1;
        document.getElementById('input-desktop-' + input.getAttribute('name')).value = input.value;
        // updateBothInputs(input.getAttribute('name'), input.value);
        updateCartItemQuantity(input.getAttribute('name'), input.value, input);
        let inputValue = input.value;
        let price = input.parentElement.parentElement.parentElement.querySelector('.product-price-mobile').textContent;
        let amount = input.parentElement.parentElement.parentElement.querySelector('.product_total_mobile');
        let total = Number.parseFloat(price.replace('₫', '').replace(/\./g, '').replace(',', '.')) * inputValue;
        amount.innerText = total.toLocaleString('vi-VN', {minimumFractionDigits: 0}) + '₫';
        document.getElementById('product-total-desktop-' + input.getAttribute('name')).innerText = amount.innerText;
        calculateTotalAmountMobile();
    }

    function calculateTotalAmount() {
        let totalAmountElements = document.querySelectorAll('.totalAmountElement');
        let totalAmountElementsMobile = document.querySelectorAll('.totalAmountElementsMobile');
        let productTotalElements = document.querySelectorAll('.product_total');
        let sumPriceHeaders = document.querySelectorAll('.sumPriceHeader');
        let totalAmount = 0;

        productTotalElements.forEach(function (totalElement) {
            let number = Number.parseFloat(totalElement.textContent.replace('₫', '').replace(/\./g, '').replace(',', '.'));
            totalAmount += number;
        });
        totalAmountElements.forEach(function (totalAmountElement) {
            totalAmountElement.textContent = totalAmount.toLocaleString('vi-VN', {minimumFractionDigits: 0}) + '₫';
        });
        sumPriceHeaders.forEach(function (sumPriceHeader) {
            sumPriceHeader.textContent = totalAmount.toLocaleString('vi-VN', {minimumFractionDigits: 0}) + '₫';
        });
        totalAmountElementsMobile.forEach(function (totalAmountElementMobile) {
            totalAmountElementMobile.textContent = totalAmount.toLocaleString('vi-VN', {minimumFractionDigits: 0}) + '₫';
        });
    }

    function calculateTotalAmountMobile() {
        let totalAmountElements = document.querySelectorAll('.totalAmountElement');
        let totalAmountElementsMobile = document.querySelectorAll('.totalAmountElementsMobile');
        let productTotalElements = document.querySelectorAll('.product_total_mobile');
        let sumPriceHeaders = document.querySelectorAll('.sumPriceHeader');
        let totalAmount = 0;

        productTotalElements.forEach(function (totalElement) {
            let number = Number.parseFloat(totalElement.textContent.replace('₫', '').replace(/\./g, '').replace(',', '.'));
            totalAmount += number;
        });
        totalAmountElements.forEach(function (totalAmountElement) {
            totalAmountElement.textContent = totalAmount.toLocaleString('vi-VN', {minimumFractionDigits: 0}) + '₫';
        });
        sumPriceHeaders.forEach(function (sumPriceHeader) {
            sumPriceHeader.textContent = totalAmount.toLocaleString('vi-VN', {minimumFractionDigits: 0}) + '₫';
        });
        totalAmountElementsMobile.forEach(function (totalAmountElementMobile) {
            totalAmountElementMobile.textContent = totalAmount.toLocaleString('vi-VN', {minimumFractionDigits: 0}) + '₫';
        });
    }


    function deleteData(id) {
        let countProductHeader = document.querySelector('.countProductHeader');
        $.ajax({
            type: "GET",
            url: '/user/cart/deleteProduct/' + id,
            success: function () {
                $("div[name='" + id + "']").remove();
                countProductHeader.textContent = String(parseFloat(countProductHeader.textContent) - 1);
                calculateTotalAmount()
                console.log('id=' + id);
            },
            error: function (xhr, status, error) {
                console.error('Đã xảy ra lỗi: ' + error);
            }
        })
    }

    function updateCartItemQuantity(idCart, quantityProduct) {
        $.ajax({
            type: 'POST',
            url: '/user/cart/updateQuantity',
            data: {
                idCart: idCart,
                quantityProduct: quantityProduct
            },
            success: function () {
                console.log('success');
            },
            error: function (error) {
                console.log('Error:', error);
            }
        });
    }
</script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Select all search_item divs
        const searchItems = document.querySelectorAll('.search_item');
        searchItems.forEach(function (item) {
            item.addEventListener('click', function () {
                document.getElementById('categoryId').value = this.getAttribute('data-value');
            });
        });
    });
</script>
</body>
</html>